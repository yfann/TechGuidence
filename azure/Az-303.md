

## Vnet
+ Vnet一般局限在一个区域
    + 夸区域
        + 对等互联
        + VPN网关

+ 默认VNet可以与Internet出站通信

+ Service endpoints
    + secure Az service

+ private endpoint


+ Vnet Peering(对等互联)
    + 连接Vnet
        + 一般是两个Vnet
            + 至少一个是Resource Manager创建的
    + 连接不同区域的Vnet
    + low-latency,high-bandwidth
    + 一般用于数据库迁移备份
    + Global virtual network peering
        + 可以夸region
    + 跨subscriptions
        + 授权Network COntributor role
    + 不具有传递性
    + 不能跨云
        + Az public cloud 与Az China cloud不能peer
    + peer后不能改动地址范围
    + Az DNS解析peered Vnet的名称


+ VPN gateway
    + 连接Vnet
        + 一般一个on-premise location,一个Vnet
            + 通过public internet
        + 也可以两个Vnet
    + 每个virtual network一个VPN gateway
    + 公共IP
    + Gateway transit
        + on virtual network peering
        + share ExpressRoute or VPN gateway
        + Vnet as hub network
            + Allow gateway transit

+ on-premise communication
    + P2S VPN
        + Vnet <----> computer
    + S2S VPN
        + on-premise VPN device <-----> Az VPN Gateway
    + Az ExpressRoute
        
    
+ Filter network
    + Network Security groups(NSGs)
    + Network virtual appliances(NVA)

+ Route network
    + Route table
    + Border gateway protocol(BGP)routes

+ Hub and spoke architecture
    + hub Vnet 
        + 包含各种组件
            + network virtual appliance
            + VPN gateway
    + all spoke virtual network peer with the hub Vnet
        + 

## VM

+ 系统盘
+ 临时盘
+ 数据盘

+ 存储账号
    + VHD
        + Page Blob
+ 托管磁盘

+ 虚拟机

## 缩放集
+ SLB
+ 应用程序网关

## tools
+ putty64
+ puttygen
+ disk tool vhd
    + 物理机--->VHD
+ visual studio
    + 可视化的方式创建模板

## 存储
+ 创建VHD--->存储账号上传VHD----->Managed disk


## ARM template
+ 一个template只能在一个资源组


## Runbook


## powershell
+ 模块化,管道化,脚本化
+ `Install-Module az -Force -AllowClobber`
+ `update-Module az`
+ `find-command new-azvm`
    + 找到命令所在的模块

## 负载均衡器
+ 无状态
+ backend pool
    + VM
    + availability zone
    + 可用性集
## 应用程序网关
+ 7层
+ 防火墙
+ 反向代理
+ 前端端口，监听器，后端池

## 防火墙
+ Azure firewall subnet

## ref
[template](https://azure.microsoft.com/zh-cn/documentation/templates/)