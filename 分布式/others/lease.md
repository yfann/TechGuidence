# lease(租约)
+ 是一种资源访问控制机制，用来在一定时间内授予客户端对某资源的独占访问权限。
+ 它的核心作用是协调多个节点对共享资源的访问，防止冲突和不一致。
+ lease 是有过期时间的锁。
    + 在租期内，持有 lease 的客户端可以独占资源；一旦过期，系统可以将资源分配给其他客户端

## 用途
+ 领导选举（Leader Election）
    + 使用 lease，可以确保某个节点在 lease 有效期内是唯一的 leader。
    + 如果 leader 崩溃但 lease 没有续期，其他节点就可以发起新的选举，避免“幽灵 leader”
    + 在某些系统中，如果 lease 过期，节点就知道自己不再是 leader，从而避免多个 leader 并存。
        + 防止脑裂

+ 缓存一致性
    + 某个节点获取某数据项的 lease，在 lease 有效期内可以保证该数据不会被其他人修改
    + 常用于客户端缓存更新策略

+ 分布式锁
    + 比如在基于 Etcd、Zookeeper 的服务中，可以使用带租约的锁，防止死锁
        + Etcd 提供了一种 lease 机制，客户端可以创建一个 lease，并将某些 key 绑定到它上面。如果客户端崩溃或没有续租，这些 key 会在 lease 到期后被自动删除。这就非常适合做服务注册与发现、临时数据保存、分布式锁等。