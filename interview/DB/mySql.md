
# mysql 

+ select for update
    + 高并发场景
    + 事物中才会生效
        + COMMIT后释放锁
    + 查询时，查询条件有主键，锁行。否则锁表

+ InnoDB
    + 默认是行锁
    + 

+ 数据库隔离级别

+ 幻读


+ 高并发下，如何安全的修改同一行数据


## 索引
+ InnoDB
    + 支持聚集索引
        + 一般用不可更新的主键
            + 更新主键成本高
    + 自适应哈希索引
        + 当MySQL注意到某些索引值被使用的非常频繁时，会在内存中基于B-Tree所有之上再创建一个哈希索引，这就让B-Tree索引也具有哈希索引的一些优点，比如快速哈希查找。这是一个完全自动的内部行为，用户无法控制或配置。
+ MyISM
    + 索引都是非聚集索引
        + 叶子节点data存放是数据记录的指针地址

+ 索引下推
    + 在索引遍历过程中，对索引中包含的字段先做判断，直接过滤掉不满足条件的记录，减少回表次数

+ `explain <sql>`
    + 查看执行计划

## ref

+ [关"SELECT FOR UPDATE"的一些概念](https://www.huaweicloud.com/articles/2941282344610781fd8418a7947a027d.html)
+ [如何理解Mysql索引以及它的底层原理？](https://www.zhihu.com/question/436110377/answer/2951704887)