# etcd
+ etcd是一个分布式键值存储系统，通常用于配置管理、服务发现和分布式锁等场景

+ 场景：
    + 配置管理： etcd可以用来存储应用程序、服务和基础设施的配置信息，以便动态更新配置而无需重启应用。
    + 服务发现： etcd可以用于注册和发现服务的位置信息，帮助应用程序发现可用的服务实例。
    + 分布式锁： etcd可以用于实现分布式锁，确保在分布式环境中对共享资源的访问是同步的。
    + Leader选举： etcd的Raft算法支持Leader选举，用于在集群中选举一个节点作为Leader，确保集群中的一致性操作。

## 高可用性和一致性的保证
+ etcd通过实现Raft一致性算法来保证高可用性和数据一致性。Raft算法是一种分布式一致性算法，它确保了在网络分区或节点故障的情况下，系统仍然能够保持一致性。
    + 复制日志： etcd集群中的每个节点都维护一个复制的日志，这个日志记录了所有的数据修改操作。通过复制日志，系统可以在节点故障或数据丢失的情况下恢复数据。
    + Leader选举： Raft算法中，集群中的节点会选举出一个Leader节点，Leader负责处理所有的写操作。如果Leader节点失效，Raft算法会自动触发新一轮选举，选举出一个新的Leader。
    + Quorum： etcd中的数据复制至少需要在多数节点上达到一致，这种多数节点的数量叫做Quorum。确保写操作需要满足Quorum条件，这样可以防止数据被脏写入。
    + 持久化： etcd将数据持久化到磁盘，以防止节点故障或重启时数据丢失。节点在启动时可以从持久化存储中恢复数据。