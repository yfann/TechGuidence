## spring如何解决循环依赖

+ 提前暴露引用（Early Reference）： 
    + Spring 在创建 Bean 实例的过程中，会分为两个阶段：实例化和初始化。在实例化阶段，Spring 会创建 Bean 的空壳实例，并将其放入一个早期引用缓存中。然后在初始化阶段，Spring 会为 Bean 注入属性和执行初始化方法。通过这种方式，即使出现循环依赖，因为 Bean 的空壳已经创建，可以防止完全无法初始化的情况
+ 构造函数注入： 
    + 如果循环依赖是通过构造函数注入产生的，Spring 会尝试通过使用代理对象来解决。Spring 在创建 Bean 时，可能会使用 CGLIB 或 JDK 动态代理来绕过循环依赖，从而保证 Bean 的初始化可以顺利完成。
+ Setter 方法注入： 
    + 对于使用 Setter 方法注入的循环依赖，Spring 可以通过提前暴露引用的方式，先创建 Bean 的实例并注入属性引用，然后再执行初始化方法。
+ 使用 @Lazy 注解： 
    + Spring 提供了 @Lazy 注解，可以延迟 Bean 的初始化。通过将 @Lazy 注解应用在依赖的 Bean 上，可以推迟 Bean 的初始化，从而避免循环依赖。
+ 手动解决循环依赖： 
    + 在某些情况下，循环依赖可能无法通过 Spring 的自动机制解决。这时，可以考虑使用延迟初始化或者在需要时手动获取 Bean 实例的方式来解决循环依赖。