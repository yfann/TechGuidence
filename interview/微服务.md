# 微服务 interview

+ 独立部署，有独立数据库吗？
+ 微服务之间如何通信？
+ 保证微服务高可用，容错性？
    + 服务注册与发现：使用服务注册与发现机制，如Consul、Eureka或etcd，来动态地发现可用的服务实例，以实现服务之间的负载均衡和故障转移。
    + 熔断器模式：使用熔断器模式，如Netflix Hystrix，来防止级联故障，并在服务出现故障时快速失败，从而保护整个系统的稳定性。
    + 限流和降级：通过限流机制，如令牌桶算法或漏桶算法，控制对服务的并发请求。同时，可以采用降级策略，对一些非关键服务进行降级处理，确保核心功能的正常运行。
    + 分布式追踪：使用分布式追踪工具，如Zipkin或Jaeger，来跟踪请求在微服务架构中的传播路径，帮助定位和排查问题。

+ 微服务架构中，如何处理跨服务的事务一致性？
    + 使用分布式事务：通过分布式事务管理器，如Atomikos、Bitronix或Seata，实现多个微服务间的事务一致性。这种方式可以保证所有涉及的服务要么全部成功，要么全部失败。
    + 使用补偿事务：通过引入补偿机制，每个服务在执行操作之前进行预检查，如果失败则执行回滚或者补偿操作，从而达到事务的一致性。Saga模式是一种常用的补偿事务模式。

+ 在微服务架构中，如何处理服务的版本演进和数据库升级？
    + API版本管理：使用清晰的API版本管理，通过向后兼容的方式升级API，确保新版本的服务可以与旧版本的服务共存，避免对现有客户端产生影响。
    + 数据库迁移工具：使用数据库迁移工具，如Flyway或Liquibase，来管理数据库升级和数据迁移。这些工具可以帮助执行数据库脚本，并确保数据库结构的版本与服务版本相匹配。
    + 灰度发布：在服务版本升级时，使用灰度发布策略，逐步将流量切换到新版本的服务，以便及时发现和解决潜在的问题，减少影响范围。